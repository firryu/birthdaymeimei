<!doctype html>

<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Birthday Gift Card</title>
  <style>
    :root{
      --bg:#F0F7FF; --accent:#5B9DFF; --soft:#E6F1FF; --ink:#2b2b2b;
      --card-width:min(900px,94vw);
    }
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; margin:0; background:linear-gradient(180deg,var(--bg),#FFF); color:var(--ink); display:flex; align-items:center; justify-content:center; min-height:100vh}
    .container{width:var(--card-width); max-width:1000px; position:relative}/* Envelope cover */
.envelope{width:100%; aspect-ratio:16/9; background:linear-gradient(135deg,#E3F0FF,#FFF); border-radius:18px; box-shadow:0 10px 30px rgba(0,0,0,.12); position:relative; overflow:hidden; display:grid; place-items:center; cursor:pointer}
.envelope .front{width:88%; height:70%; background:linear-gradient(180deg,#fff,#E6F1FF); border-radius:12px; position:relative; transform-origin:top center; transition:transform .8s cubic-bezier(.2,.9,.3,1)}
.envelope .seal{position:absolute; bottom:20px; width:140px; height:140px; border-radius:50%; display:grid; place-items:center; font-weight:700; color:white; background:var(--accent); box-shadow:0 8px 18px rgba(91,157,255,.28)}
.envelope .title{position:absolute; top:20px; left:24px; font-size:clamp(18px,2.4vw,28px); letter-spacing:0.6px; font-weight:bold; color:var(--accent)}
.envelope.open .front{transform:perspective(800px) rotateX(-180deg)}

/* Card reveal */
.card{display:none; background:linear-gradient(180deg,#fff,#F0F7FF); margin-top:20px; border-radius:14px; padding:28px; box-shadow:0 12px 30px rgba(0,0,0,.08)}
.card.show{display:block}
.card .top{display:flex; gap:20px; align-items:center}
.card .message{flex:1}
.card h1{margin:0;font-size:clamp(20px,3.5vw,36px); color:var(--accent)}
.card p{margin:8px 0 0 0; line-height:1.6}

/* slideshow */
.slideshow{width:260px; height:160px; border-radius:10px; overflow:hidden; position:relative; flex-shrink:0}
.slideshow img{width:100%; height:100%; object-fit:cover; position:absolute; inset:0; opacity:0; transition:opacity .5s}
.slideshow img.active{opacity:1}
.slideshow .controls{position:absolute; left:8px; right:8px; bottom:8px; display:flex; justify-content:space-between}
.btn{background:rgba(255,255,255,.66); border:none; padding:6px 10px; border-radius:8px; cursor:pointer}

/* footer */
.footer{margin-top:18px; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:10px}
.play{display:inline-flex; gap:8px; align-items:center}

/* confetti canvas */
canvas.confetti{position:fixed; inset:0; pointer-events:none}

/* music title animation */
@keyframes glow { 0%{opacity:.6} 50%{opacity:1} 100%{opacity:.6} }
.song-title{font-size:14px; color:var(--accent); font-weight:600; animation:glow 2s infinite}

@media (max-width:700px){
  .card .top{flex-direction:column}
  .slideshow{width:100%; height:200px}
}

  </style>
</head>
<body>
  <div class="container">
    <div class="envelope" id="envelope" title="Klik untuk membuka">
      <div class="title">Happy Birthday Wo De Meimei</div>
      <div class="front" aria-hidden="true"></div>
      <div class="seal">ðŸŽ‚</div>
    </div><div class="card" id="card" role="region" aria-label="Birthday Card">
  <div class="top">
    <div class="slideshow" id="slideshow">
      <img src="images/photo1.jpg" alt="Foto 1" class="active">
      <img src="images/photo2.jpg" alt="Foto 2">
      <img src="images/photo3.jpg" alt="Foto 3">
      <div class="controls">
        <button class="btn" id="prev">â€¹</button>
        <button class="btn" id="next">â€º</button>
      </div>
    </div>

    <div class="message">
      <h1>Untuk Meimei Tersayang âœ¨</h1>
      <p>Selamat ulang tahun meimei aku yang lucuuâœ¨<br>
      Ciee udah nambah gede sekarang, semoga sehat selalu, lancar rejekinya, tambah baik, lancar kuliahnya, kedepannya jalannya dipermudah, jangan lupa terus berdoa kepada Tuhan, berdoa yg terbaik, semoga tambah bucin aaww, semoga cepet meet juga sama cowo kamu, yg pasti semoga cepet meet sama akuðŸ¤—<br>
      Pokonya wish you all the bestðŸ¥°</p>
    </div>
  </div>

  <div class="footer">
    <div class="play">
      <span class="song-title">â™ª You Are Beautiful</span>
      <audio id="bgMusic" src="audio/you-are-beautiful.mp3" preload="auto"></audio>
      <button class="btn" id="musicToggle">Play â–¶</button>
    </div>
  </div>
</div>

<canvas class="confetti" id="confetti"></canvas>

  </div>  <script>
    const envelope = document.getElementById('envelope');
    const card = document.getElementById('card');
    const bgMusic = document.getElementById('bgMusic');
    const musicToggle = document.getElementById('musicToggle');

    envelope.addEventListener('click', ()=>{
      envelope.classList.add('open');
      setTimeout(()=>{ card.classList.add('show'); triggerConfetti(); }, 650);
    });

    // Slideshow
    const slides = Array.from(document.querySelectorAll('#slideshow img'));
    let idx = 0;
    const show = (i)=>{ slides.forEach((s,si)=> s.classList.toggle('active', si===i)); }
    document.getElementById('prev').addEventListener('click', ()=>{ idx = (idx-1+slides.length)%slides.length; show(idx); });
    document.getElementById('next').addEventListener('click', ()=>{ idx = (idx+1)%slides.length; show(idx); });

    // auto-advance
    let slideTimer = setInterval(()=>{ idx=(idx+1)%slides.length; show(idx); }, 4000);
    document.getElementById('slideshow').addEventListener('mouseenter', ()=> clearInterval(slideTimer));
    document.getElementById('slideshow').addEventListener('mouseleave', ()=> slideTimer = setInterval(()=>{ idx=(idx+1)%slides.length; show(idx); }, 4000));

    // Music toggle
    musicToggle.addEventListener('click', ()=>{
      if(bgMusic.paused){ bgMusic.play(); musicToggle.textContent = 'Stop â– '; } else { bgMusic.pause(); bgMusic.currentTime=0; musicToggle.textContent = 'Play â–¶'; }
    });

    // Confetti
    function triggerConfetti(){
      const canvas = document.getElementById('confetti');
      const ctx = canvas.getContext('2d');
      function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
      resize(); window.addEventListener('resize', resize);

      const pieces = [];
      for(let i=0;i<80;i++){
        pieces.push({x:Math.random()*canvas.width, y:Math.random()*-canvas.height, r:Math.random()*6+6, d:Math.random()*60+20, sx:(Math.random()-.5)*2, sy:Math.random()*2+2, c:['#5B9DFF','#A7CFFF','#E6F1FF','#7FB4FF'][Math.floor(Math.random()*4)]});
      }
      let t=0;
      function frame(){ ctx.clearRect(0,0,canvas.width,canvas.height);
        for(const p of pieces){ p.y += p.sy; p.x += p.sx*Math.cos(t/30); ctx.fillStyle=p.c; ctx.beginPath(); ctx.ellipse(p.x,p.y,p.r,p.r/1.6, p.r, 0, Math.PI*2); ctx.fill(); }
        t+=1;
        if(t<220) requestAnimationFrame(frame);
        else ctx.clearRect(0,0,canvas.width,canvas.height);
      }
      frame();
    }
  </script></body>
</html>
